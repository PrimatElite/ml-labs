# Общие алгоритмы и классы для placer'а и checker'а

## image.py

Загрузка изображения в формате BGR.

## object.py

### Object

Поля:

- `image` - изображение, всю плоскость которого покрывает чистый лист бумаги, поверх которого расположен предмет.
- `polygon` - многоугольник, задающий описывающий предмет контур на изображении.

Конструктор принимает на вход путь до изображения или само изображение.

У всех экземпляров данного класса одинаковый размер изображения. Таким образом, все предметы имеют одинаковый масштаб.

## object_search.py

Файл с алгоритмом для поиска одного предмета на фотографии с белым листом бумаги.

1. Определяется маска листа бумаги с помощью HSV пространства цветов.
2. Контуром листа бумаги является контур с наибольшей площадью на этой маске.
3. С помощью алгоритма Рамера-Дугласа-Пекера сглаживается контур листа бумаге, чтобы в нём осталось только 4 точки.
4. Применяется перспективное преобразование с последующем обрезанием контура для получения изображения, углы которого совпадают с углами листа бумаги.
5. Применяется кластеризация методом k-means с k равным 3 на изображении в BGR пространстве.
6. Рассматриваются самые "тёмные" компоненты. Маленькие по площади или находящиеся рядом с границей отбрасываются. Для оставшихся "тёмных" компонент строится общая выпуклая оболочка.
7. Строится маска предмета:
   - Всё, что находится вне построенной выпуклой оболочки помечается 0
   - Всё, что находится внутри построенной выпуклой оболочки помечается 1
8. Построенная выпуклая оболочка оставшихся "тёмных" компонент является выпуклой оболочкой предмета.
